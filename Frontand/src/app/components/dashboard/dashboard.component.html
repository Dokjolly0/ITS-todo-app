<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="navbar-brand">
        <img
          src="https://cdn-icons-png.flaticon.com/512/9131/9131529.png"
          alt="User Icon"
          class="user-icon"
        />
        <span class="profile-name">{{ fullName }}</span>
      </div>
      <ul class="navbar-nav">
        <li>
          <a class="btn btn-logout" (click)="logout()">Logout</a>
        </li>
      </ul>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar">
      <ul class="sidebar-menu">
        <li>
          <div class="todo-item">
            <a class="btn btn-view-todo" (click)="onClickViewTodo()"
              >Visualizza i Todo</a
            >
            <div class="todo-options">
              <span class="option-label">Visualizza completati</span>
              <label class="toggle-switch">
                <input
                  type="checkbox"
                  id="completed"
                  [(ngModel)]="completed"
                  (change)="onChangeCompleted()"
                />
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </li>
        <li>
          <a class="btn btn-add-todo" (click)="onClickAddTodo()"
            >Aggiungere un Todo</a
          >
        </li>
        <li>
          <a class="btn btn-flag-completed" (click)="onClickFlagCompleted()"
            >Cambia stato todo</a
          >
        </li>
        <li>
          <a class="btn btn-flag-incomplete" (click)="onClickNewAssign()"
            >Riassegna todo esistente
          </a>
        </li>
        <li>
          <a class="btn btn-delate" (click)="onClickDelate()">Elimina todo</a>
        </li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Visualizza i Todo -->
      <div *ngIf="todos.length > 0 && isView">
        <app-todo-card [todos]="todos"></app-todo-card>
      </div>

      <!-- Aggiungi un Todo -->
      <div *ngIf="isAdd">
        <app-add-todo></app-add-todo>
      </div>

      <!-- Flagga Completato -->
      <div *ngIf="isCheck">
        <app-change-completed></app-change-completed>
      </div>

      <!-- Riassegna Todo -->
      <div *ngIf="isAssigned">
        <app-assigned-to></app-assigned-to>
      </div>

      <!-- Elimina Todo -->
      <div *ngIf="isDelate">
        <app-delate></app-delate>
      </div>
    </main>

    <script>
      console.log("Script caricato");
      document.addEventListener("DOMContentLoaded", function () {
        document
          .querySelector(".btn-view-todo")
          .addEventListener("click", function () {
            console.log("Bottone cliccato");
          });
      });
    </script>
  </body>
</html>
